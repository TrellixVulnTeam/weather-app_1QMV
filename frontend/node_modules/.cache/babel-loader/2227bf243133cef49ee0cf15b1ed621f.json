{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useActions } from \"./useActions\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { ActionTypes } from \"../redux/types/action-types\";\nimport { WeatherApi } from \"../API/WeatherApi\";\nimport { useTypedSelector } from \"./useTypedSelector\";\nexport const useFetchWeather = city => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const {\n    fetchWeater\n  } = useActions();\n  const dispatch = useDispatch();\n  const currentCity = useTypedSelector(state => state.weather.resolvedAdress);\n\n  const fetchWeatherFunc = async () => {\n    try {\n      dispatch({\n        type: ActionTypes.FETCH_WEATHER\n      });\n      const weather = await WeatherApi.getWeatherByCity(city);\n      setIsLoading(false);\n      return fetchWeater(weather);\n    } catch (e) {\n      dispatch({\n        type: ActionTypes.FETCH_WEATHER_ERROR,\n        payload: 'error 404'\n      });\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchWeatherFunc();\n  }, []);\n  return isLoading;\n};\n\n_s(useFetchWeather, \"siV7KlXqw6EDv3D2YozySOwUXC8=\", false, function () {\n  return [useActions, useDispatch, useTypedSelector];\n});","map":{"version":3,"names":["useActions","useEffect","useState","useDispatch","ActionTypes","WeatherApi","useTypedSelector","useFetchWeather","city","isLoading","setIsLoading","fetchWeater","dispatch","currentCity","state","weather","resolvedAdress","fetchWeatherFunc","type","FETCH_WEATHER","getWeatherByCity","e","FETCH_WEATHER_ERROR","payload"],"sources":["C:/Users/вадим/Desktop/weather-app/frontend/src/hooks/useFetchWeather.ts"],"sourcesContent":["import {useActions} from \"./useActions\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ActionTypes} from \"../redux/types/action-types\";\r\nimport {WeatherApi} from \"../API/WeatherApi\";\r\nimport {useTypedSelector} from \"./useTypedSelector\";\r\n\r\nexport const useFetchWeather = (city:string) => {\r\n    const [isLoading,setIsLoading] = useState<boolean>(true);\r\n    const {fetchWeater} = useActions();\r\n    const dispatch = useDispatch();\r\n    const currentCity = useTypedSelector(state=>state.weather.resolvedAdress);\r\n    const fetchWeatherFunc = async () => {\r\n        try {\r\n            dispatch({type: ActionTypes.FETCH_WEATHER});\r\n            const weather = await WeatherApi.getWeatherByCity(city);\r\n            setIsLoading(false);\r\n            return fetchWeater(weather);\r\n        } catch (e) {\r\n            dispatch({type: ActionTypes.FETCH_WEATHER_ERROR, payload: 'error 404'});\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        fetchWeatherFunc();\r\n    }, []);\r\n    return isLoading;\r\n}"],"mappings":";;AAAA,SAAQA,UAAR,QAAyB,cAAzB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,WAAR,QAA0B,6BAA1B;AACA,SAAQC,UAAR,QAAyB,mBAAzB;AACA,SAAQC,gBAAR,QAA+B,oBAA/B;AAEA,OAAO,MAAMC,eAAe,GAAIC,IAAD,IAAiB;EAAA;;EAC5C,MAAM,CAACC,SAAD,EAAWC,YAAX,IAA2BR,QAAQ,CAAU,IAAV,CAAzC;EACA,MAAM;IAACS;EAAD,IAAgBX,UAAU,EAAhC;EACA,MAAMY,QAAQ,GAAGT,WAAW,EAA5B;EACA,MAAMU,WAAW,GAAGP,gBAAgB,CAACQ,KAAK,IAAEA,KAAK,CAACC,OAAN,CAAcC,cAAtB,CAApC;;EACA,MAAMC,gBAAgB,GAAG,YAAY;IACjC,IAAI;MACAL,QAAQ,CAAC;QAACM,IAAI,EAAEd,WAAW,CAACe;MAAnB,CAAD,CAAR;MACA,MAAMJ,OAAO,GAAG,MAAMV,UAAU,CAACe,gBAAX,CAA4BZ,IAA5B,CAAtB;MACAE,YAAY,CAAC,KAAD,CAAZ;MACA,OAAOC,WAAW,CAACI,OAAD,CAAlB;IACH,CALD,CAKE,OAAOM,CAAP,EAAU;MACRT,QAAQ,CAAC;QAACM,IAAI,EAAEd,WAAW,CAACkB,mBAAnB;QAAwCC,OAAO,EAAE;MAAjD,CAAD,CAAR;MACAb,YAAY,CAAC,KAAD,CAAZ;IACH;EACJ,CAVD;;EAWAT,SAAS,CAAC,MAAM;IACZgB,gBAAgB;EACnB,CAFQ,EAEN,EAFM,CAAT;EAGA,OAAOR,SAAP;AACH,CApBM;;GAAMF,e;UAEaP,U,EACLG,W,EACGG,gB"},"metadata":{},"sourceType":"module"}