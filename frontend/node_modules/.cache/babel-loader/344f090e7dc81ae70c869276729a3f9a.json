{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0432\\u0430\\u0434\\u0438\\u043C\\\\Desktop\\\\weather-app\\\\frontend\\\\src\\\\components\\\\ModalSearch\\\\ModalSearch.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Loader from \"../Loader/Loader\";\nimport { TextField } from \"@mui/material\";\nimport { WeatherApi } from \"../../API/WeatherApi\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useDispatch } from \"react-redux\";\nimport { ActionTypesModal } from \"../../redux/reducers/modalSearchReducer\";\nimport './ModalSearch.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ModalSearch = () => {\n  _s();\n\n  const {\n    fetchWeater\n  } = useActions();\n  const dispatch = useDispatch();\n  const [searchValue, setSearchValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const searchWeatherHandler = async () => {\n    try {\n      setIsLoading(true);\n      const weather = await WeatherApi.getWeatherByCity(searchValue);\n      dispatch({\n        type: ActionTypesModal.modalClose\n      });\n      setIsLoading(false);\n      document.body.classList.remove('active');\n      return fetchWeater(weather);\n    } catch (e) {\n      setIsLoading(false);\n      dispatch({\n        type: ActionTypesModal.modalClose\n      });\n      document.body.classList.remove('active');\n      return console.log(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app__my-modal\",\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: \"muiInput\",\n          value: searchValue,\n          id: \"standard-basic\",\n          label: \"City\",\n          variant: \"standard\",\n          onChange: e => setSearchValue(e.target.value),\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"app__modalConfirmButton\",\n          onClick: searchWeatherHandler,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(ModalSearch, \"cS1/KF0g7634i0QuOwZstQUq+xc=\", false, function () {\n  return [useActions, useDispatch];\n});\n\n_c = ModalSearch;\nexport default ModalSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalSearch\");","map":{"version":3,"names":["React","useState","Loader","TextField","WeatherApi","useActions","useDispatch","ActionTypesModal","ModalSearch","fetchWeater","dispatch","searchValue","setSearchValue","isLoading","setIsLoading","searchWeatherHandler","weather","getWeatherByCity","type","modalClose","document","body","classList","remove","e","console","log","target","value"],"sources":["C:/Users/вадим/Desktop/weather-app/frontend/src/components/ModalSearch/ModalSearch.tsx"],"sourcesContent":["import React, {FC, useState} from 'react';\r\nimport Loader from \"../Loader/Loader\";\r\nimport {TextField} from \"@mui/material\";\r\nimport {WeatherApi} from \"../../API/WeatherApi\";\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ActionTypesModal} from \"../../redux/reducers/modalSearchReducer\";\r\nimport './ModalSearch.scss';\r\nconst ModalSearch: FC = () => {\r\n    const {fetchWeater} = useActions();\r\n    const dispatch = useDispatch();\r\n    const [searchValue, setSearchValue] = useState<string>('');\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const searchWeatherHandler = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const weather = await WeatherApi.getWeatherByCity(searchValue);\r\n            dispatch({type: ActionTypesModal.modalClose});\r\n            setIsLoading(false);\r\n            document.body.classList.remove('active');\r\n            return fetchWeater(weather);\r\n        } catch (e) {\r\n            setIsLoading(false);\r\n            dispatch({type: ActionTypesModal.modalClose});\r\n            document.body.classList.remove('active');\r\n            return console.log(e);\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div className='app__my-modal'>\r\n                {isLoading ? <Loader/> :\r\n                    <>\r\n                        <TextField className='muiInput' value={searchValue}\r\n                                   id=\"standard-basic\" label=\"City\"\r\n                                   variant=\"standard\"\r\n                                   onChange={(e) => setSearchValue(e.target.value)}\r\n                                   type=\"text\"/>\r\n                        <button className='app__modalConfirmButton' onClick={searchWeatherHandler}>Confirm</button>\r\n                    </>}\r\n            </div>\r\n\r\n        </>);\r\n};\r\n\r\nexport default ModalSearch;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAAQC,SAAR,QAAwB,eAAxB;AACA,SAAQC,UAAR,QAAyB,sBAAzB;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,gBAAR,QAA+B,yCAA/B;AACA,OAAO,oBAAP;;;;AACA,MAAMC,WAAe,GAAG,MAAM;EAAA;;EAC1B,MAAM;IAACC;EAAD,IAAgBJ,UAAU,EAAhC;EACA,MAAMK,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAS,EAAT,CAA9C;EACA,MAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAU,KAAV,CAA1C;;EACA,MAAMc,oBAAoB,GAAG,YAAY;IACrC,IAAI;MACAD,YAAY,CAAC,IAAD,CAAZ;MACA,MAAME,OAAO,GAAG,MAAMZ,UAAU,CAACa,gBAAX,CAA4BN,WAA5B,CAAtB;MACAD,QAAQ,CAAC;QAACQ,IAAI,EAAEX,gBAAgB,CAACY;MAAxB,CAAD,CAAR;MACAL,YAAY,CAAC,KAAD,CAAZ;MACAM,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B;MACA,OAAOd,WAAW,CAACO,OAAD,CAAlB;IACH,CAPD,CAOE,OAAOQ,CAAP,EAAU;MACRV,YAAY,CAAC,KAAD,CAAZ;MACAJ,QAAQ,CAAC;QAACQ,IAAI,EAAEX,gBAAgB,CAACY;MAAxB,CAAD,CAAR;MACAC,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B;MACA,OAAOE,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAP;IACH;EACJ,CAdD;;EAeA,oBACI;IAAA,uBACI;MAAK,SAAS,EAAC,eAAf;MAAA,UACKX,SAAS,gBAAG,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QAAH,gBACN;QAAA,wBACI,QAAC,SAAD;UAAW,SAAS,EAAC,UAArB;UAAgC,KAAK,EAAEF,WAAvC;UACW,EAAE,EAAC,gBADd;UAC+B,KAAK,EAAC,MADrC;UAEW,OAAO,EAAC,UAFnB;UAGW,QAAQ,EAAGa,CAAD,IAAOZ,cAAc,CAACY,CAAC,CAACG,MAAF,CAASC,KAAV,CAH1C;UAIW,IAAI,EAAC;QAJhB;UAAA;UAAA;UAAA;QAAA,QADJ,eAMI;UAAQ,SAAS,EAAC,yBAAlB;UAA4C,OAAO,EAAEb,oBAArD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QANJ;MAAA;IAFR;MAAA;MAAA;MAAA;IAAA;EADJ,iBADJ;AAeH,CAnCD;;GAAMP,W;UACoBH,U,EACLC,W;;;KAFfE,W;AAqCN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}