{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0432\\u0430\\u0434\\u0438\\u043C\\\\Desktop\\\\weather-app\\\\frontend\\\\src\\\\components\\\\ModalSearch\\\\ModalSearch.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Loader from \"../Loader/Loader\";\nimport { TextField } from \"@mui/material\";\nimport { WeatherApi } from \"../../API/WeatherApi\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useDispatch } from \"react-redux\";\nimport { ActionTypesModal } from \"../../redux/reducers/modalSearchReducer\";\nimport './ModalSearch.scss';\nimport { useTypedSelector } from \"../../hooks/useTypedSelector\";\nimport MyButton from \"../UI/MyButton/MyButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ModalSearch = () => {\n  _s();\n\n  const {\n    fetchWeater\n  } = useActions();\n  const dispatch = useDispatch();\n  const [searchValue, setSearchValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const isAuthed = useTypedSelector(state => state.user.isAuthed);\n\n  const searchWeatherHandler = async () => {\n    try {\n      setIsLoading(true);\n      const weather = await WeatherApi.getWeatherByCity(searchValue);\n      dispatch({\n        type: ActionTypesModal.modalClose\n      });\n      setIsLoading(false);\n      return fetchWeater(weather);\n    } catch (e) {\n      setIsLoading(false);\n      dispatch({\n        type: ActionTypesModal.modalClose\n      });\n      return console.log(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app__my-modal\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal__form\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"modal__closeBtn\",\n          onClick: () => dispatch({\n            type: ActionTypesModal.modalClose\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          className: \"muiInput\",\n          value: searchValue,\n          id: \"standard-basic\",\n          label: \"City\",\n          variant: \"standard\",\n          onChange: e => setSearchValue(e.target.value),\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MyButton, {\n          classnameBtn: \"app__modalConfirmButton myButton\",\n          onClick: searchWeatherHandler,\n          children: \" Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this), isAuthed ? '' : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app__modalLoginForm\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"app__modalLoginFormText\",\n            children: \"Login to see your history\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ModalSearch, \"3/GN/uz9pZv397KOKFoszh9Rq0o=\", false, function () {\n  return [useActions, useDispatch, useTypedSelector];\n});\n\n_c = ModalSearch;\nexport default ModalSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalSearch\");","map":{"version":3,"names":["React","useState","Loader","TextField","WeatherApi","useActions","useDispatch","ActionTypesModal","useTypedSelector","MyButton","ModalSearch","fetchWeater","dispatch","searchValue","setSearchValue","isLoading","setIsLoading","isAuthed","state","user","searchWeatherHandler","weather","getWeatherByCity","type","modalClose","e","console","log","stopPropagation","target","value"],"sources":["C:/Users/вадим/Desktop/weather-app/frontend/src/components/ModalSearch/ModalSearch.tsx"],"sourcesContent":["import React, {FC, useState} from 'react';\r\nimport Loader from \"../Loader/Loader\";\r\nimport {TextField} from \"@mui/material\";\r\nimport {WeatherApi} from \"../../API/WeatherApi\";\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ActionTypesModal} from \"../../redux/reducers/modalSearchReducer\";\r\nimport './ModalSearch.scss';\r\nimport {useTypedSelector} from \"../../hooks/useTypedSelector\";\r\nimport MyButton from \"../UI/MyButton/MyButton\";\r\n\r\nconst ModalSearch: FC = () => {\r\n    const {fetchWeater} = useActions();\r\n    const dispatch = useDispatch();\r\n    const [searchValue, setSearchValue] = useState<string>('');\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const isAuthed = useTypedSelector(state=>state.user.isAuthed);\r\n    const searchWeatherHandler = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const weather = await WeatherApi.getWeatherByCity(searchValue);\r\n            dispatch({type: ActionTypesModal.modalClose});\r\n            setIsLoading(false);\r\n            return fetchWeater(weather);\r\n        } catch (e) {\r\n            setIsLoading(false);\r\n            dispatch({type: ActionTypesModal.modalClose});\r\n            return console.log(e);\r\n        }\r\n    }\r\n    return (\r\n        <div className='app__my-modal'>\r\n            {isLoading ? <Loader/> :\r\n                <>\r\n                    <div className='modal__form' onClick={(e) => e.stopPropagation()}>\r\n                            <span className='modal__closeBtn'\r\n                                  onClick={() => dispatch({type: ActionTypesModal.modalClose})}\r\n                            ></span>\r\n                        <TextField className='muiInput' value={searchValue}\r\n                                   id=\"standard-basic\" label=\"City\"\r\n                                   variant=\"standard\"\r\n                                   onChange={(e) => setSearchValue(e.target.value)}\r\n                                   type=\"text\"/>\r\n                        <MyButton classnameBtn='app__modalConfirmButton myButton'\r\n                                onClick={searchWeatherHandler}> Confirm\r\n                        </MyButton>\r\n                        {isAuthed?'': <div className='app__modalLoginForm'>\r\n                            <span className='app__modalLoginFormText'>Login to see your history</span>\r\n                        </div>}\r\n                    </div>\r\n                </>}\r\n        </div>);\r\n};\r\n\r\nexport default ModalSearch;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAAQC,SAAR,QAAwB,eAAxB;AACA,SAAQC,UAAR,QAAyB,sBAAzB;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,gBAAR,QAA+B,yCAA/B;AACA,OAAO,oBAAP;AACA,SAAQC,gBAAR,QAA+B,8BAA/B;AACA,OAAOC,QAAP,MAAqB,yBAArB;;;;AAEA,MAAMC,WAAe,GAAG,MAAM;EAAA;;EAC1B,MAAM;IAACC;EAAD,IAAgBN,UAAU,EAAhC;EACA,MAAMO,QAAQ,GAAGN,WAAW,EAA5B;EACA,MAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAS,EAAT,CAA9C;EACA,MAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAU,KAAV,CAA1C;EACA,MAAMgB,QAAQ,GAAGT,gBAAgB,CAACU,KAAK,IAAEA,KAAK,CAACC,IAAN,CAAWF,QAAnB,CAAjC;;EACA,MAAMG,oBAAoB,GAAG,YAAY;IACrC,IAAI;MACAJ,YAAY,CAAC,IAAD,CAAZ;MACA,MAAMK,OAAO,GAAG,MAAMjB,UAAU,CAACkB,gBAAX,CAA4BT,WAA5B,CAAtB;MACAD,QAAQ,CAAC;QAACW,IAAI,EAAEhB,gBAAgB,CAACiB;MAAxB,CAAD,CAAR;MACAR,YAAY,CAAC,KAAD,CAAZ;MACA,OAAOL,WAAW,CAACU,OAAD,CAAlB;IACH,CAND,CAME,OAAOI,CAAP,EAAU;MACRT,YAAY,CAAC,KAAD,CAAZ;MACAJ,QAAQ,CAAC;QAACW,IAAI,EAAEhB,gBAAgB,CAACiB;MAAxB,CAAD,CAAR;MACA,OAAOE,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAP;IACH;EACJ,CAZD;;EAaA,oBACI;IAAK,SAAS,EAAC,eAAf;IAAA,UACKV,SAAS,gBAAG,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAAH,gBACN;MAAA,uBACI;QAAK,SAAS,EAAC,aAAf;QAA6B,OAAO,EAAGU,CAAD,IAAOA,CAAC,CAACG,eAAF,EAA7C;QAAA,wBACQ;UAAM,SAAS,EAAC,iBAAhB;UACM,OAAO,EAAE,MAAMhB,QAAQ,CAAC;YAACW,IAAI,EAAEhB,gBAAgB,CAACiB;UAAxB,CAAD;QAD7B;UAAA;UAAA;UAAA;QAAA,QADR,eAII,QAAC,SAAD;UAAW,SAAS,EAAC,UAArB;UAAgC,KAAK,EAAEX,WAAvC;UACW,EAAE,EAAC,gBADd;UAC+B,KAAK,EAAC,MADrC;UAEW,OAAO,EAAC,UAFnB;UAGW,QAAQ,EAAGY,CAAD,IAAOX,cAAc,CAACW,CAAC,CAACI,MAAF,CAASC,KAAV,CAH1C;UAIW,IAAI,EAAC;QAJhB;UAAA;UAAA;UAAA;QAAA,QAJJ,eASI,QAAC,QAAD;UAAU,YAAY,EAAC,kCAAvB;UACQ,OAAO,EAAEV,oBADjB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QATJ,EAYKH,QAAQ,GAAC,EAAD,gBAAK;UAAK,SAAS,EAAC,qBAAf;UAAA,uBACV;YAAM,SAAS,EAAC,yBAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADU;UAAA;UAAA;UAAA;QAAA,QAZlB;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;EAFR;IAAA;IAAA;IAAA;EAAA,QADJ;AAsBH,CAzCD;;GAAMP,W;UACoBL,U,EACLC,W,EAGAE,gB;;;KALfE,W;AA2CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}