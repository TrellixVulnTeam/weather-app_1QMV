{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0432\\u0430\\u0434\\u0438\\u043C\\\\Desktop\\\\weather-app\\\\frontend\\\\src\\\\components\\\\ModalSearch\\\\ModalSearch.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Loader from \"../Loader/Loader\";\nimport { TextField } from \"@mui/material\";\nimport { WeatherApi } from \"../../API/WeatherApi\";\nimport { useActions } from \"../../hooks/useActions\";\nimport { useDispatch } from \"react-redux\";\nimport { ActionTypesModal } from \"../../redux/reducers/modalSearchReducer\";\nimport './ModalSearch.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ModalSearch = () => {\n  _s();\n\n  const {\n    fetchWeater\n  } = useActions();\n  const dispatch = useDispatch();\n  const [searchValue, setSearchValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const searchWeatherHandler = async () => {\n    try {\n      setIsLoading(true);\n      const weather = await WeatherApi.getWeatherByCity(searchValue);\n      dispatch({\n        type: ActionTypesModal.modalClose\n      });\n      setIsLoading(false);\n      return fetchWeater(weather);\n    } catch (e) {\n      setIsLoading(false);\n      dispatch({\n        type: ActionTypesModal.modalClose\n      });\n      return console.log(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app__my-modal\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal__form\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"modal__closeBtn\",\n          onClick: () => dispatch({\n            type: ActionTypesModal.modalClose\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          className: \"muiInput\",\n          value: searchValue,\n          id: \"standard-basic\",\n          label: \"City\",\n          variant: \"standard\",\n          onChange: e => setSearchValue(e.target.value),\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"app__modalConfirmButton\",\n          onClick: searchWeatherHandler,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ModalSearch, \"cS1/KF0g7634i0QuOwZstQUq+xc=\", false, function () {\n  return [useActions, useDispatch];\n});\n\n_c = ModalSearch;\nexport default ModalSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalSearch\");","map":{"version":3,"names":["React","useState","Loader","TextField","WeatherApi","useActions","useDispatch","ActionTypesModal","ModalSearch","fetchWeater","dispatch","searchValue","setSearchValue","isLoading","setIsLoading","searchWeatherHandler","weather","getWeatherByCity","type","modalClose","e","console","log","stopPropagation","target","value"],"sources":["C:/Users/вадим/Desktop/weather-app/frontend/src/components/ModalSearch/ModalSearch.tsx"],"sourcesContent":["import React, {FC, useState} from 'react';\r\nimport Loader from \"../Loader/Loader\";\r\nimport {TextField} from \"@mui/material\";\r\nimport {WeatherApi} from \"../../API/WeatherApi\";\r\nimport {useActions} from \"../../hooks/useActions\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ActionTypesModal} from \"../../redux/reducers/modalSearchReducer\";\r\nimport './ModalSearch.scss';\r\n\r\nconst ModalSearch: FC = () => {\r\n    const {fetchWeater} = useActions();\r\n    const dispatch = useDispatch();\r\n    const [searchValue, setSearchValue] = useState<string>('');\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const searchWeatherHandler = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const weather = await WeatherApi.getWeatherByCity(searchValue);\r\n            dispatch({type: ActionTypesModal.modalClose});\r\n            setIsLoading(false);\r\n            return fetchWeater(weather);\r\n        } catch (e) {\r\n            setIsLoading(false);\r\n            dispatch({type: ActionTypesModal.modalClose});\r\n            return console.log(e);\r\n        }\r\n    }\r\n    return (\r\n        <div className='app__my-modal'>\r\n            {isLoading ? <Loader/> :\r\n                <>\r\n                    <div className='modal__form' onClick={(e) => e.stopPropagation()}>\r\n                            <span className='modal__closeBtn'\r\n                                  onClick={() => dispatch({type: ActionTypesModal.modalClose})}\r\n                            ></span>\r\n                        <TextField className='muiInput' value={searchValue}\r\n                                   id=\"standard-basic\" label=\"City\"\r\n                                   variant=\"standard\"\r\n                                   onChange={(e) => setSearchValue(e.target.value)}\r\n                                   type=\"text\"/>\r\n                        <button className='app__modalConfirmButton'\r\n                                onClick={searchWeatherHandler}>Confirm\r\n                        </button>\r\n                    </div>\r\n                </>}\r\n        </div>);\r\n};\r\n\r\nexport default ModalSearch;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAAQC,SAAR,QAAwB,eAAxB;AACA,SAAQC,UAAR,QAAyB,sBAAzB;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,gBAAR,QAA+B,yCAA/B;AACA,OAAO,oBAAP;;;;AAEA,MAAMC,WAAe,GAAG,MAAM;EAAA;;EAC1B,MAAM;IAACC;EAAD,IAAgBJ,UAAU,EAAhC;EACA,MAAMK,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAS,EAAT,CAA9C;EACA,MAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAU,KAAV,CAA1C;;EACA,MAAMc,oBAAoB,GAAG,YAAY;IACrC,IAAI;MACAD,YAAY,CAAC,IAAD,CAAZ;MACA,MAAME,OAAO,GAAG,MAAMZ,UAAU,CAACa,gBAAX,CAA4BN,WAA5B,CAAtB;MACAD,QAAQ,CAAC;QAACQ,IAAI,EAAEX,gBAAgB,CAACY;MAAxB,CAAD,CAAR;MACAL,YAAY,CAAC,KAAD,CAAZ;MACA,OAAOL,WAAW,CAACO,OAAD,CAAlB;IACH,CAND,CAME,OAAOI,CAAP,EAAU;MACRN,YAAY,CAAC,KAAD,CAAZ;MACAJ,QAAQ,CAAC;QAACQ,IAAI,EAAEX,gBAAgB,CAACY;MAAxB,CAAD,CAAR;MACA,OAAOE,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAP;IACH;EACJ,CAZD;;EAaA,oBACI;IAAK,SAAS,EAAC,eAAf;IAAA,UACKP,SAAS,gBAAG,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAAH,gBACN;MAAA,uBACI;QAAK,SAAS,EAAC,aAAf;QAA6B,OAAO,EAAGO,CAAD,IAAOA,CAAC,CAACG,eAAF,EAA7C;QAAA,wBACQ;UAAM,SAAS,EAAC,iBAAhB;UACM,OAAO,EAAE,MAAMb,QAAQ,CAAC;YAACQ,IAAI,EAAEX,gBAAgB,CAACY;UAAxB,CAAD;QAD7B;UAAA;UAAA;UAAA;QAAA,QADR,eAII,QAAC,SAAD;UAAW,SAAS,EAAC,UAArB;UAAgC,KAAK,EAAER,WAAvC;UACW,EAAE,EAAC,gBADd;UAC+B,KAAK,EAAC,MADrC;UAEW,OAAO,EAAC,UAFnB;UAGW,QAAQ,EAAGS,CAAD,IAAOR,cAAc,CAACQ,CAAC,CAACI,MAAF,CAASC,KAAV,CAH1C;UAIW,IAAI,EAAC;QAJhB;UAAA;UAAA;UAAA;QAAA,QAJJ,eASI;UAAQ,SAAS,EAAC,yBAAlB;UACQ,OAAO,EAAEV,oBADjB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QATJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;EAFR;IAAA;IAAA;IAAA;EAAA,QADJ;AAmBH,CArCD;;GAAMP,W;UACoBH,U,EACLC,W;;;KAFfE,W;AAuCN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}